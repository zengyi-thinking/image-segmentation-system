# ğŸ–¼ï¸ å›¾åƒåˆ†å‰²ç³»ç»Ÿ v2.0.0

ä¸€ä¸ªä¸“ä¸šçº§çš„å›¾åƒåˆ†å‰²å·¥å…·ï¼Œé›†æˆå¤šç§å…ˆè¿›ç®—æ³•ã€ç°ä»£åŒ– GUI ç•Œé¢å’Œå…¨é¢çš„æ€§èƒ½åˆ†æåŠŸèƒ½ã€‚

[![Python Version](https://img.shields.io/badge/python-3.8+-blue.svg)](https://python.org)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Platform](https://img.shields.io/badge/platform-Windows%20%7C%20macOS%20%7C%20Linux-lightgrey.svg)](https://github.com)

## ğŸ“Š é¡¹ç›®å®Œæˆåº¦: 100% âœ…

### ğŸ† é¡¹ç›®æ¦‚è¿°

å›¾åƒåˆ†å‰²ç³»ç»Ÿå·²ç»å®Œå…¨å®Œæˆï¼Œä»ä¸€ä¸ªåŸºç¡€çš„ MST åˆ†å‰²å·¥å…·å‘å±•æˆä¸ºä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€æ€§èƒ½ä¼˜å¼‚ã€ç”¨æˆ·å‹å¥½çš„ä¸“ä¸šçº§å›¾åƒå¤„ç†ç³»ç»Ÿã€‚é¡¹ç›®åœ¨åŠŸèƒ½å®Œæ•´æ€§ã€ä»£ç è´¨é‡ã€ç”¨æˆ·ä½“éªŒã€æ€§èƒ½è¡¨ç°ç­‰å„ä¸ªæ–¹é¢éƒ½è¾¾åˆ°äº†ä¼ä¸šçº§æ ‡å‡†ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ”§ å¤šç§åˆ†å‰²ç®—æ³•

- **MST åˆ†å‰²ç®—æ³•**: åŸºäºå›¾è®ºçš„æœ€å°ç”Ÿæˆæ ‘ç®—æ³•ï¼Œé€‚åˆå¤æ‚çº¹ç†å’Œä¸è§„åˆ™è¾¹ç•Œ
- **Watershed åˆ†å‰²ç®—æ³•**: åŸºäºå½¢æ€å­¦çš„åˆ†æ°´å²­ç®—æ³•ï¼Œé€‚åˆæ˜æ˜¾è¾¹ç•Œçš„å¯¹è±¡åˆ†ç¦»
- **K-Means èšç±»åˆ†å‰²**: åŸºäºé¢œè‰²èšç±»çš„åˆ†å‰²æ–¹æ³•ï¼Œæ”¯æŒå¤šç§é¢œè‰²ç©ºé—´(RGB/LAB/HSV)
- **GMM åˆ†å‰²ç®—æ³•**: é«˜æ–¯æ··åˆæ¨¡å‹çš„æ¦‚ç‡åˆ†å‰²æ–¹æ³•ï¼Œé€‚åˆå¤æ‚é¢œè‰²åˆ†å¸ƒ

### ğŸ¨ ç°ä»£åŒ–ç”¨æˆ·ç•Œé¢

- **4 ç§ç²¾ç¾ä¸»é¢˜**: æµ…è‰²ã€æ·±è‰²ã€è“è‰²ã€ç»¿è‰²ä¸»é¢˜ï¼Œé€‚åº”ä¸åŒä½¿ç”¨åœºæ™¯
- **å¢å¼ºæ»šåŠ¨ç³»ç»Ÿ**: å…¨é¢çš„å‚ç›´/æ°´å¹³æ»šåŠ¨ï¼Œé¼ æ ‡æ»šè½®å’Œé”®ç›˜å¯¼èˆªæ”¯æŒ
- **å®æ—¶å‚æ•°è°ƒæ•´**: æ‰€è§å³æ‰€å¾—çš„å‚æ•°è°ƒæ•´ä½“éªŒï¼Œå®æ—¶é¢„è§ˆåˆ†å‰²æ•ˆæœ
- **ç¾è§‚è¿›åº¦æŒ‡ç¤ºå™¨**: å¸¦æ—¶é—´ä¼°ç®—çš„è¿›åº¦å¯¹è¯æ¡†ï¼Œå¯å–æ¶ˆçš„é•¿æ—¶é—´æ“ä½œ

### ğŸ“Š å…¨é¢åˆ†æåŠŸèƒ½

- **æ€§èƒ½ç›‘æ§**: å®æ—¶ç³»ç»Ÿèµ„æºç›‘æ§ï¼Œå†…å­˜ä½¿ç”¨å’Œ CPU å ç”¨è¿½è¸ª
- **ç®—æ³•å¯¹æ¯”**: å¹¶æ’ç®—æ³•æ€§èƒ½åˆ†æï¼Œå¯è§†åŒ–å¯¹æ¯”ç»“æœ
- **æ‰¹å¤„ç†ç³»ç»Ÿ**: å¹¶è¡Œæ‰¹é‡å›¾åƒå¤„ç†ï¼Œæ”¯æŒè¿›åº¦ç›‘æ§å’ŒæŠ¥å‘Šç”Ÿæˆ
- **è¯¦ç»†æŠ¥å‘Š**: è‡ªåŠ¨ç”Ÿæˆ CSV å’Œ JSON æ ¼å¼çš„åˆ†ææŠ¥å‘Š

### ğŸ›¡ï¸ ä¼ä¸šçº§è´¨é‡

- **å¥å£®é”™è¯¯å¤„ç†**: å…¨é¢çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œæ™ºèƒ½é”™è¯¯æ¢å¤å»ºè®®
- **å¤šçº§æ—¥å¿—ç³»ç»Ÿ**: æ–‡ä»¶å’Œæ§åˆ¶å°åŒé‡è¾“å‡ºï¼Œæ”¯æŒ DEBUG/INFO/WARNING/ERROR çº§åˆ«
- **æ™ºèƒ½å†…å­˜ç®¡ç†**: LRU ç¼“å­˜æ·˜æ±°ç­–ç•¥ï¼Œè‡ªåŠ¨åƒåœ¾å›æ”¶ä¼˜åŒ–
- **åˆ†å±‚é…ç½®ç®¡ç†**: ç®—æ³•/GUI/æ€§èƒ½/æ—¥å¿—çš„åˆ†å±‚é…ç½®ç»“æ„

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç³»ç»Ÿè¦æ±‚

- **Python**: 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- **æ“ä½œç³»ç»Ÿ**: Windows 10+, macOS 10.14+, Ubuntu 18.04+
- **å†…å­˜**: å»ºè®® 4GB ä»¥ä¸Š
- **å­˜å‚¨**: è‡³å°‘ 1GB å¯ç”¨ç©ºé—´

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**

   ```bash
   git clone https://github.com/your-repo/image-segmentation-system.git
   cd image-segmentation-system
   ```

2. **å®‰è£…ä¾èµ–**

   ```bash
   pip install -r requirements.txt
   ```

3. **è¿è¡Œåº”ç”¨ç¨‹åº**

   ```bash
   # GUIæ¨¡å¼ï¼ˆæ¨èï¼‰
   python main.py

   # å‘½ä»¤è¡Œæ¨¡å¼
   python main.py --cli --input image.jpg --output result.png

   # å¿«é€Ÿå¯åŠ¨è„šæœ¬
   python quick_start.py
   ```

### åŸºæœ¬ä½¿ç”¨

1. **åŠ è½½å›¾åƒ**: æ–‡ä»¶ â†’ æ‰“å¼€å›¾åƒ (Ctrl+O)
2. **é€‰æ‹©ç®—æ³•**: ä» MSTã€Watershedã€K-Meansã€GMM ä¸­é€‰æ‹©
3. **è°ƒæ•´å‚æ•°**: ä½¿ç”¨æ§åˆ¶é¢æ¿è¿›è¡Œå®æ—¶å‚æ•°è°ƒæ•´
4. **æ‰§è¡Œåˆ†å‰²**: ç‚¹å‡»"å¼€å§‹åˆ†å‰²"æŒ‰é’®
5. **æŸ¥çœ‹ç»“æœ**: åœ¨ä¸»æ˜¾ç¤ºåŒºåŸŸåˆ†æç»“æœ

## ğŸ“ é¡¹ç›®æ¶æ„

### è®¾è®¡æ€è·¯

æœ¬ç³»ç»Ÿé‡‡ç”¨åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œéµå¾ªé«˜å†…èšã€ä½è€¦åˆçš„åŸåˆ™ï¼Œç¡®ä¿ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚

#### æ•´ä½“æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GUIç•Œé¢å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  å›¾åƒåŠ è½½   â”‚ â”‚  å‚æ•°è®¾ç½®   â”‚ â”‚  ç»“æœå±•ç¤º   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ç®—æ³•å¤„ç†å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  å›¾æ„å»º     â”‚ â”‚  MSTç®—æ³•    â”‚ â”‚  åŒºåŸŸåˆå¹¶   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ•°æ®ç®¡ç†å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  å›¾åƒæ•°æ®   â”‚ â”‚  å›¾ç»“æ„     â”‚ â”‚  åˆ†å‰²ç»“æœ   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ¨¡å—åŒ–è®¾è®¡åŸåˆ™

1. **å•ä¸€èŒè´£åŸåˆ™**: æ¯ä¸ªæ¨¡å—åªè´Ÿè´£ä¸€ä¸ªç‰¹å®šåŠŸèƒ½
2. **å¼€æ”¾å°é—­åŸåˆ™**: å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­
3. **ä¾èµ–å€’ç½®åŸåˆ™**: é«˜å±‚æ¨¡å—ä¸ä¾èµ–ä½å±‚æ¨¡å—ï¼Œéƒ½ä¾èµ–æŠ½è±¡
4. **æ¥å£éš”ç¦»åŸåˆ™**: ä½¿ç”¨å¤šä¸ªä¸“é—¨çš„æ¥å£ï¼Œè€Œä¸æ˜¯å•ä¸€çš„æ€»æ¥å£

### ç›®å½•ç»“æ„

```
image-segmentation-system/
â”œâ”€â”€ main.py                    # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ quick_start.py             # äº¤äº’å¼å¯åŠ¨è„šæœ¬
â”œâ”€â”€ setup.py                   # åŒ…å®‰è£…é…ç½®
â”œâ”€â”€ requirements.txt           # Pythonä¾èµ–
â”œâ”€â”€ LICENSE                    # MITè®¸å¯è¯
â”œâ”€â”€ version.py                 # ç‰ˆæœ¬ä¿¡æ¯
â”‚
â”œâ”€â”€ core/                      # æ ¸å¿ƒç®—æ³•æ¨¡å—
â”‚   â”œâ”€â”€ mst_segmentation.py    # MSTåˆ†å‰²ç®—æ³•
â”‚   â”œâ”€â”€ watershed_segmentation.py # Watershedç®—æ³•
â”‚   â”œâ”€â”€ kmeans_segmentation.py # K-Meanså’ŒGMMç®—æ³•
â”‚   â”œâ”€â”€ graph_builder.py       # åƒç´ å›¾æ„å»º
â”‚   â””â”€â”€ edge_weights.py        # è¾¹æƒé‡è®¡ç®—
â”‚
â”œâ”€â”€ gui/                       # å›¾å½¢ç”¨æˆ·ç•Œé¢
â”‚   â”œâ”€â”€ enhanced_main_window.py # å¢å¼ºç‰ˆä¸»çª—å£
â”‚   â”œâ”€â”€ enhanced_image_display.py # å›¾åƒæ˜¾ç¤ºç»„ä»¶
â”‚   â”œâ”€â”€ progress_dialog.py     # è¿›åº¦æŒ‡ç¤ºå™¨
â”‚   â”œâ”€â”€ theme_manager.py       # ä¸»é¢˜ç®¡ç†
â”‚   â”œâ”€â”€ control_panel.py       # å‚æ•°æ§åˆ¶é¢æ¿
â”‚   â””â”€â”€ algorithm_comparison_window.py # ç®—æ³•å¯¹æ¯”çª—å£
â”‚
â”œâ”€â”€ utils/                     # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ logger.py             # æ—¥å¿—ç³»ç»Ÿ
â”‚   â”œâ”€â”€ config_manager.py     # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ exceptions.py         # å¼‚å¸¸å¤„ç†
â”‚   â”œâ”€â”€ performance_monitor.py # æ€§èƒ½ç›‘æ§
â”‚   â”œâ”€â”€ batch_processor.py    # æ‰¹å¤„ç†
â”‚   â””â”€â”€ image_io.py           # å›¾åƒè¾“å…¥è¾“å‡º
â”‚
â”œâ”€â”€ data_structures/          # æ•°æ®ç»“æ„
â”‚   â”œâ”€â”€ pixel_graph.py        # åƒç´ å…³ç³»å›¾
â”‚   â”œâ”€â”€ union_find.py         # å¹¶æŸ¥é›†å®ç°
â”‚   â””â”€â”€ segmentation_result.py # åˆ†å‰²ç»“æœå­˜å‚¨
â”‚
â”œâ”€â”€ evaluation/               # è¯„ä¼°å’ŒæŒ‡æ ‡
â”‚   â”œâ”€â”€ metrics.py            # è¯„ä¼°æŒ‡æ ‡è®¡ç®—
â”‚   â”œâ”€â”€ performance_analyzer.py # æ€§èƒ½åˆ†æå™¨
â”‚   â””â”€â”€ comparison_tools.py   # ç®—æ³•å¯¹æ¯”å·¥å…·
â”‚
â”œâ”€â”€ tests/                    # æµ‹è¯•å¥—ä»¶
â”œâ”€â”€ config/                   # é…ç½®æ–‡ä»¶
â”œâ”€â”€ examples/                 # ç¤ºä¾‹å›¾åƒ
â””â”€â”€ scripts/                  # æ„å»ºè„šæœ¬
```

### æ ¸å¿ƒæ¨¡å—äº¤äº’

#### æ•°æ®æµè®¾è®¡

```
å›¾åƒè¾“å…¥ â†’ é¢„å¤„ç† â†’ å›¾æ„å»º â†’ ç®—æ³•å¤„ç† â†’ åå¤„ç† â†’ ç»“æœè¾“å‡º
    â†“         â†“        â†“        â†“        â†“        â†“
  image_io  utils   core    core     utils   image_io
```

#### ç»„ä»¶ä¾èµ–å…³ç³»

```
GUIå±‚ â† â†’ Utilså±‚ â† â†’ Coreå±‚ â† â†’ Dataå±‚
  â†“         â†“         â†“        â†“
ä¸»é¢˜ç®¡ç†   æ—¥å¿—ç³»ç»Ÿ   ç®—æ³•å®ç°  æ•°æ®ç»“æ„
é…ç½®ç•Œé¢   å¼‚å¸¸å¤„ç†   æ€§èƒ½ç›‘æ§  ç»“æœå­˜å‚¨
è¿›åº¦æ˜¾ç¤º   æ‰¹å¤„ç†     è¯„ä¼°æŒ‡æ ‡  å›¾åƒç¼“å­˜
```

## ğŸ”§ ç®—æ³•å®ç°è¯¦è§£

### MST åˆ†å‰²ç®—æ³•

**æœ€å°ç”Ÿæˆæ ‘(MST)åˆ†å‰²**æ˜¯åŸºäºå›¾è®ºçš„åˆ†å‰²æ–¹æ³•ï¼Œå°†å›¾åƒåƒç´ ä½œä¸ºå›¾çš„èŠ‚ç‚¹ï¼Œç›¸é‚»åƒç´ é—´å»ºç«‹è¾¹ã€‚

#### æ ¸å¿ƒåŸç†

1. **å›¾æ„å»ºé˜¶æ®µ**: å°†æ¯ä¸ªåƒç´ ä½œä¸ºå›¾çš„èŠ‚ç‚¹ï¼Œæ ¹æ®è¿æ¥æ€§(4 æˆ– 8)å»ºç«‹è¾¹
2. **æƒé‡è®¡ç®—**: ä½¿ç”¨å…¬å¼ `w(i,j) = Î±Ã—color_diff + Î²Ã—spatial_dist`
3. **MST æ„å»º**: ä½¿ç”¨ Kruskal ç®—æ³•æ„å»ºæœ€å°ç”Ÿæˆæ ‘ï¼Œæ—¶é—´å¤æ‚åº¦ O(E log E)
4. **åˆ†å‰²é˜¶æ®µ**: ç§»é™¤æƒé‡å¤§äºé˜ˆå€¼çš„è¾¹ï¼Œå½¢æˆè¿é€šåˆ†é‡ä½œä¸ºåˆ†å‰²åŒºåŸŸ

#### ä»£ç å®ç°ç»†èŠ‚

```python
class MSTSegmentation:
    def __init__(self, alpha=1.0, beta=0.1, connectivity=8):
        self.alpha = alpha      # é¢œè‰²æƒé‡
        self.beta = beta        # ç©ºé—´æƒé‡
        self.connectivity = connectivity

    def segment(self, image):
        # 1. æ„å»ºåƒç´ å›¾
        graph = self.build_pixel_graph(image)

        # 2. è®¡ç®—è¾¹æƒé‡
        edges = self.compute_edge_weights(graph, image)

        # 3. æ„å»ºMST
        mst = self.build_mst(edges)

        # 4. é˜ˆå€¼åˆ†å‰²
        segments = self.threshold_segmentation(mst)

        return segments

    def compute_edge_weights(self, graph, image):
        """è®¡ç®—è¾¹æƒé‡"""
        edges = []
        for (i, j) in graph.edges:
            color_diff = np.linalg.norm(image[i] - image[j])
            spatial_dist = self.spatial_distance(i, j)
            weight = self.alpha * color_diff + self.beta * spatial_dist
            edges.append((weight, i, j))
        return sorted(edges)
```

#### å‚æ•°è¯´æ˜

- **Alpha (Î±)**: æ§åˆ¶åˆ†å‰²ç²’åº¦ (0.1-10.0)
  - è¾ƒå°å€¼: æ›´å¤šç»†å°åŒºåŸŸï¼Œå¯¹é¢œè‰²å·®å¼‚æ•æ„Ÿ
  - è¾ƒå¤§å€¼: æ›´å°‘å¤§åŒºåŸŸï¼Œå¿½ç•¥ç»†å¾®é¢œè‰²å·®å¼‚
- **Beta (Î²)**: è¾¹ç•Œå¹³æ»‘åº¦ (0.001-1.0)
  - è¾ƒå°å€¼: æ›´ç²¾ç¡®è¾¹ç•Œï¼Œå…è®¸ä¸è§„åˆ™å½¢çŠ¶
  - è¾ƒå¤§å€¼: æ›´å¹³æ»‘è¾¹ç•Œï¼Œå€¾å‘äºè§„åˆ™å½¢çŠ¶
- **è¿æ¥æ€§**: åƒç´ è¿æ¥æ–¹å¼
  - 4 è¿æ¥: ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘
  - 8 è¿æ¥: åŒ…å«å¯¹è§’çº¿çš„å…«ä¸ªæ–¹å‘

#### é€‚ç”¨åœºæ™¯

- è‡ªç„¶å›¾åƒåˆ†å‰²
- çº¹ç†åŒºåŸŸåˆ†ç¦»
- å¤æ‚èƒŒæ™¯å¤„ç†
- ä¸è§„åˆ™è¾¹ç•Œæ£€æµ‹

### Watershed åˆ†å‰²ç®—æ³•

**åˆ†æ°´å²­ç®—æ³•**æ¨¡æ‹Ÿæ°´æµåˆ†å‰²è¿‡ç¨‹ï¼ŒåŸºäºå½¢æ€å­¦çš„åˆ†å‰²æ–¹æ³•ã€‚

#### æ ¸å¿ƒåŸç†

1. **é¢„å¤„ç†é˜¶æ®µ**: åŒè¾¹æ»¤æ³¢å»å™ªã€CLAHE å¯¹æ¯”åº¦å¢å¼ºã€æ¢¯åº¦è®¡ç®—
2. **æ ‡è®°æ£€æµ‹**: è·ç¦»å˜æ¢ã€å±€éƒ¨æœ€å¤§å€¼æ£€æµ‹ã€ç§å­ç‚¹ç”Ÿæˆ
3. **åˆ†æ°´å²­å˜æ¢**: æ¨¡æ‹Ÿæ°´æµå¡«å……è¿‡ç¨‹ï¼Œç´§å‡‘æ€§çº¦æŸï¼Œè¾¹ç•Œçº¿ç”Ÿæˆ
4. **åå¤„ç†**: å°åŒºåŸŸç§»é™¤ã€åŒºåŸŸåˆå¹¶ã€æ ‡ç­¾é‡æ’åº

#### ä»£ç å®ç°ç»†èŠ‚

```python
class WatershedSegmentation:
    def __init__(self, min_distance=20, compactness=0.001):
        self.min_distance = min_distance
        self.compactness = compactness

    def segment(self, image):
        # 1. é¢„å¤„ç†
        processed = self.preprocess(image)

        # 2. ç”Ÿæˆæ ‡è®°
        markers = self.generate_markers(processed)

        # 3. åˆ†æ°´å²­å˜æ¢
        labels = watershed(processed, markers, compactness=self.compactness)

        return labels

    def preprocess(self, image):
        """å›¾åƒé¢„å¤„ç†"""
        # åŒè¾¹æ»¤æ³¢
        filtered = cv2.bilateralFilter(image, 9, 75, 75)

        # CLAHEå¯¹æ¯”åº¦å¢å¼º
        clahe = cv2.createCLAHE(clipLimit=2.0, tileGridSize=(8,8))
        enhanced = clahe.apply(cv2.cvtColor(filtered, cv2.COLOR_RGB2GRAY))

        # æ¢¯åº¦è®¡ç®—
        gradient = cv2.morphologyEx(enhanced, cv2.MORPH_GRADIENT,
                                  cv2.getStructuringElement(cv2.MORPH_ELLIPSE, (3,3)))
        return gradient
```

#### å‚æ•°è¯´æ˜

- **æœ€å°è·ç¦»**: ç§å­ç‚¹é—´æœ€å°è·ç¦» (1-100)
- **ç´§å¯†åº¦**: åŒºåŸŸç´§å¯†ç¨‹åº¦ (0.0001-0.01)
- **åˆ†å‰²çº¿**: æ˜¯å¦æ˜¾ç¤ºåˆ†å‰²è¾¹ç•Œ

#### é€‚ç”¨åœºæ™¯

- é‡å å¯¹è±¡åˆ†ç¦»
- ç»†èƒå›¾åƒåˆ†æ
- é¢—ç²’è®¡æ•°
- æ˜æ˜¾è¾¹ç•Œçš„å¯¹è±¡

### K-Means èšç±»åˆ†å‰²

**åŸºäºé¢œè‰²èšç±»çš„åˆ†å‰²æ–¹æ³•**ï¼Œå°†ç›¸ä¼¼é¢œè‰²çš„åƒç´ å½’ä¸ºåŒä¸€ç±»åˆ«ã€‚

#### ä»£ç å®ç°ç»†èŠ‚

```python
class KMeansSegmentation:
    def __init__(self, k=5, color_space='RGB', spatial_weight=0.0):
        self.k = k
        self.color_space = color_space
        self.spatial_weight = spatial_weight

    def segment(self, image):
        # 1. é¢œè‰²ç©ºé—´è½¬æ¢
        converted = self.convert_color_space(image)

        # 2. ç‰¹å¾æå–
        features = self.extract_features(converted, image.shape)

        # 3. K-Meansèšç±»
        kmeans = KMeans(n_clusters=self.k, random_state=42)
        labels = kmeans.fit_predict(features)

        return labels.reshape(image.shape[:2])
```

#### å‚æ•°è¯´æ˜

- **K å€¼**: èšç±»æ•°é‡ (2-20)
- **é¢œè‰²ç©ºé—´**: RGBã€LABã€HSV
- **ç©ºé—´æƒé‡**: ç©ºé—´ä¿¡æ¯æƒé‡ (0.0-1.0)

### GMM åˆ†å‰²ç®—æ³•

**é«˜æ–¯æ··åˆæ¨¡å‹**çš„æ¦‚ç‡åˆ†å‰²æ–¹æ³•ï¼Œä½¿ç”¨å¤šä¸ªé«˜æ–¯åˆ†å¸ƒå»ºæ¨¡å›¾åƒåŒºåŸŸã€‚

#### ä»£ç å®ç°ç»†èŠ‚

```python
class GMMSegmentation:
    def __init__(self, n_components=5, covariance_type='full'):
        self.n_components = n_components
        self.covariance_type = covariance_type

    def segment(self, image):
        # 1. æ•°æ®å‡†å¤‡
        data = image.reshape(-1, image.shape[-1])

        # 2. GMMæ‹Ÿåˆ
        gmm = GaussianMixture(n_components=self.n_components,
                            covariance_type=self.covariance_type)
        labels = gmm.fit_predict(data)

        return labels.reshape(image.shape[:2])
```

#### å‚æ•°è¯´æ˜

- **ç»„ä»¶æ•°é‡**: é«˜æ–¯ç»„ä»¶æ•°é‡ (2-20)
- **åæ–¹å·®ç±»å‹**: fullã€tiedã€diagã€spherical

## ğŸ® ç”¨æˆ·ç•Œé¢è¯¦è§£

### å¢å¼ºæ»šåŠ¨ç³»ç»Ÿ

æœ¬ç³»ç»Ÿå®ç°äº†å…¨é¢çš„æ»šåŠ¨åŠŸèƒ½ï¼Œæä¾›æµç•…çš„ç”¨æˆ·äº¤äº’ä½“éªŒã€‚

#### æ»šåŠ¨åŠŸèƒ½ç‰¹æ€§

1. **åŒå‘æ»šåŠ¨æ”¯æŒ**

   - å‚ç›´æ»šåŠ¨: ä¸Šä¸‹æµè§ˆå¤§å›¾åƒ
   - æ°´å¹³æ»šåŠ¨: å·¦å³æµè§ˆå®½å›¾åƒ
   - åŒæ—¶æ”¯æŒ: ä»»æ„æ–¹å‘çš„è‡ªç”±æ»šåŠ¨

2. **å¤šç§è¾“å…¥æ–¹å¼**

   - **é¼ æ ‡æ»šè½®**: å‚ç›´æ»šåŠ¨ï¼ŒShift+æ»šè½®æ°´å¹³æ»šåŠ¨
   - **é”®ç›˜å¯¼èˆª**: æ–¹å‘é”®ã€Page Up/Downã€Home/End
   - **è§¦æ§æ‰‹åŠ¿**: åŒå‡»ç¼©æ”¾ã€å³é”®ä¸Šä¸‹æ–‡èœå•
   - **æ‹–æ‹½æ“ä½œ**: é¼ æ ‡æ‹–æ‹½å¹³ç§»å›¾åƒ

3. **æ™ºèƒ½ç¼©æ”¾åŠŸèƒ½**
   - **Ctrl+æ»šè½®**: ä»¥é¼ æ ‡ä½ç½®ä¸ºä¸­å¿ƒç¼©æ”¾
   - **å¿«æ·é”®ç¼©æ”¾**: +/- é”®å¿«é€Ÿç¼©æ”¾
   - **é¢„è®¾ç¼©æ”¾**: 1-6 æ•°å­—é”®å¿«é€Ÿåˆ‡æ¢ç¼©æ”¾çº§åˆ«
   - **é€‚åº”çª—å£**: F é”®è‡ªåŠ¨é€‚åº”çª—å£å¤§å°

#### ä»£ç å®ç°ç»†èŠ‚

```python
class EnhancedImageDisplay:
    def __init__(self):
        self.zoom_factor = 1.0
        self.scroll_x = 0
        self.scroll_y = 0
        self.smooth_scrolling = True

    def setup_scrolling(self):
        """è®¾ç½®æ»šåŠ¨åŠŸèƒ½"""
        # ç»‘å®šé¼ æ ‡äº‹ä»¶
        self.bind("<MouseWheel>", self.on_mousewheel)
        self.bind("<Shift-MouseWheel>", self.on_horizontal_scroll)
        self.bind("<Control-MouseWheel>", self.on_zoom)

        # ç»‘å®šé”®ç›˜äº‹ä»¶
        self.bind("<Key>", self.on_key_press)
        self.focus_set()

    def on_mousewheel(self, event):
        """é¼ æ ‡æ»šè½®äº‹ä»¶å¤„ç†"""
        if self.smooth_scrolling:
            self.smooth_scroll_vertical(event.delta)
        else:
            self.canvas.yview_scroll(-1 * (event.delta // 120), "units")

    def smooth_scroll_vertical(self, delta):
        """å¹³æ»‘å‚ç›´æ»šåŠ¨"""
        steps = 10
        step_size = delta / (120 * steps)

        for i in range(steps):
            self.after(i * 10, lambda: self.canvas.yview_scroll(
                -step_size, "units"))
```

### ä¸»é¢˜ç³»ç»Ÿ

#### 4 ç§ç²¾ç¾ä¸»é¢˜

1. **æµ…è‰²ä¸»é¢˜ (Light)**

   - èƒŒæ™¯è‰²: #FFFFFF
   - æ–‡å­—è‰²: #000000
   - å¼ºè°ƒè‰²: #0078D4
   - é€‚ç”¨: ç™½å¤©ä½¿ç”¨ï¼Œæ˜äº®ç¯å¢ƒ

2. **æ·±è‰²ä¸»é¢˜ (Dark)**

   - èƒŒæ™¯è‰²: #2D2D2D
   - æ–‡å­—è‰²: #FFFFFF
   - å¼ºè°ƒè‰²: #0078D4
   - é€‚ç”¨: å¤œé—´ä½¿ç”¨ï¼Œå‡å°‘çœ¼ç–²åŠ³

3. **è“è‰²ä¸»é¢˜ (Blue)**

   - èƒŒæ™¯è‰²: #F0F8FF
   - æ–‡å­—è‰²: #003366
   - å¼ºè°ƒè‰²: #0066CC
   - é€‚ç”¨: å•†åŠ¡é£æ ¼ï¼Œä¸“ä¸šç¯å¢ƒ

4. **ç»¿è‰²ä¸»é¢˜ (Green)**
   - èƒŒæ™¯è‰²: #F0FFF0
   - æ–‡å­—è‰²: #006600
   - å¼ºè°ƒè‰²: #228B22
   - é€‚ç”¨: è‡ªç„¶é£æ ¼ï¼Œèˆ’é€‚è§‚çœ‹

#### ä¸»é¢˜åˆ‡æ¢å®ç°

```python
class ThemeManager:
    def __init__(self):
        self.themes = {
            'light': {
                'bg': '#FFFFFF',
                'fg': '#000000',
                'accent': '#0078D4',
                'button_bg': '#F0F0F0',
                'entry_bg': '#FFFFFF'
            },
            'dark': {
                'bg': '#2D2D2D',
                'fg': '#FFFFFF',
                'accent': '#0078D4',
                'button_bg': '#404040',
                'entry_bg': '#404040'
            }
        }

    def apply_theme(self, theme_name):
        """åº”ç”¨ä¸»é¢˜"""
        theme = self.themes[theme_name]
        self.update_widget_colors(theme)
        self.save_theme_preference(theme_name)
```

### é”®ç›˜å¿«æ·é”®

#### å›¾åƒæ“ä½œå¿«æ·é”®

```
æ–‡ä»¶æ“ä½œ:
  Ctrl+O     â†’ æ‰“å¼€å›¾åƒ
  Ctrl+S     â†’ ä¿å­˜ç»“æœ
  Ctrl+N     â†’ æ–°å»ºé¡¹ç›®
  Ctrl+Q     â†’ é€€å‡ºç¨‹åº

è§†å›¾æ“ä½œ:
  F          â†’ é€‚åº”çª—å£
  R          â†’ é‡ç½®è§†å›¾
  +/-        â†’ æ”¾å¤§/ç¼©å°
  0          â†’ å®é™…å¤§å° (100%)
  1-6        â†’ å¿«é€Ÿç¼©æ”¾çº§åˆ«

å¯¼èˆªæ“ä½œ:
  æ–¹å‘é”®      â†’ ç§»åŠ¨è§†å›¾
  Page Up/Down â†’ å¤§å¹…åº¦å‚ç›´æ»šåŠ¨
  Home/End   â†’ è·³è½¬åˆ°å¼€å§‹/ç»“æŸä½ç½®
  Ctrl+Home  â†’ å›åˆ°å›¾åƒä¸­å¿ƒ
```

#### ç•Œé¢æ“ä½œå¿«æ·é”®

```
ç•Œé¢æ§åˆ¶:
  Ctrl+T     â†’ åˆ‡æ¢ä¸»é¢˜
  F1         â†’ æ˜¾ç¤ºå¸®åŠ©
  F11        â†’ å…¨å±æ¨¡å¼
  H          â†’ æ˜¾ç¤ºå¿«æ·é”®åˆ—è¡¨
  S          â†’ åˆ‡æ¢å¹³æ»‘æ»šåŠ¨

ç®—æ³•æ“ä½œ:
  Space      â†’ å¼€å§‹/æš‚åœåˆ†å‰²
  Esc        â†’ å–æ¶ˆå½“å‰æ“ä½œ
  Ctrl+R     â†’ é‡æ–°è¿è¡Œåˆ†å‰²
  Ctrl+C     â†’ å¤åˆ¶ç»“æœ
```

## ğŸ“Š æ€§èƒ½åˆ†æä¸è¯„ä¼°

### è¯„ä¼°æŒ‡æ ‡

æœ¬ç³»ç»Ÿæä¾›å¤šç§æ ‡å‡†è¯„ä¼°æŒ‡æ ‡ï¼Œç”¨äºé‡åŒ–åˆ†å‰²ç®—æ³•çš„æ€§èƒ½ã€‚

#### 1. IoU (Intersection over Union)

**äº¤å¹¶æ¯”**æ˜¯è¡¡é‡åˆ†å‰²å‡†ç¡®æ€§çš„æ ¸å¿ƒæŒ‡æ ‡ã€‚

```python
def calculate_iou(pred_mask, true_mask):
    """è®¡ç®—IoUæŒ‡æ ‡"""
    intersection = np.logical_and(pred_mask, true_mask).sum()
    union = np.logical_or(pred_mask, true_mask).sum()

    if union == 0:
        return 1.0 if intersection == 0 else 0.0

    return intersection / union
```

**è§£é‡Š:**

- å€¼åŸŸ: [0, 1]
- 1.0: å®Œç¾åˆ†å‰²
- 0.5: ä¸€èˆ¬è®¤ä¸ºå¯æ¥å—çš„é˜ˆå€¼
- 0.0: å®Œå…¨é”™è¯¯çš„åˆ†å‰²

#### 2. Dice ç³»æ•°

**Dice ç³»æ•°**è¯„ä¼°åˆ†å‰²åŒºåŸŸçš„é‡å ç¨‹åº¦ã€‚

```python
def calculate_dice(pred_mask, true_mask):
    """è®¡ç®—Diceç³»æ•°"""
    intersection = np.logical_and(pred_mask, true_mask).sum()
    total = pred_mask.sum() + true_mask.sum()

    if total == 0:
        return 1.0

    return 2.0 * intersection / total
```

#### 3. è¾¹ç•Œå‡†ç¡®åº¦

**è¾¹ç•Œå‡†ç¡®åº¦**è¡¡é‡åˆ†å‰²è¾¹ç•Œçš„ç²¾ç¡®æ€§ã€‚

```python
def calculate_boundary_accuracy(pred_mask, true_mask, tolerance=2):
    """è®¡ç®—è¾¹ç•Œå‡†ç¡®åº¦"""
    pred_boundary = find_boundaries(pred_mask)
    true_boundary = find_boundaries(true_mask)

    # è®¡ç®—è¾¹ç•Œç‚¹çš„è·ç¦»
    distances = distance_transform_edt(~true_boundary)
    boundary_errors = distances[pred_boundary]

    # åœ¨å®¹å¿èŒƒå›´å†…çš„è¾¹ç•Œç‚¹æ¯”ä¾‹
    accurate_points = (boundary_errors <= tolerance).sum()
    total_points = pred_boundary.sum()

    return accurate_points / total_points if total_points > 0 else 1.0
```

### æ€§èƒ½ç›‘æ§

#### å®æ—¶ç³»ç»Ÿç›‘æ§

```python
class PerformanceMonitor:
    def __init__(self):
        self.start_time = None
        self.peak_memory = 0
        self.cpu_usage = []

    def start_monitoring(self):
        """å¼€å§‹æ€§èƒ½ç›‘æ§"""
        self.start_time = time.time()
        self.peak_memory = 0
        self.cpu_usage = []

        # å¯åŠ¨ç›‘æ§çº¿ç¨‹
        self.monitor_thread = threading.Thread(target=self._monitor_loop)
        self.monitor_thread.daemon = True
        self.monitor_thread.start()

    def _monitor_loop(self):
        """ç›‘æ§å¾ªç¯"""
        while self.monitoring:
            # å†…å­˜ä½¿ç”¨
            memory_mb = psutil.Process().memory_info().rss / 1024 / 1024
            self.peak_memory = max(self.peak_memory, memory_mb)

            # CPUä½¿ç”¨ç‡
            cpu_percent = psutil.cpu_percent(interval=1)
            self.cpu_usage.append(cpu_percent)

            time.sleep(1)
```

### æ‰¹å¤„ç†ç³»ç»Ÿ

#### å¹¶è¡Œæ‰¹é‡å¤„ç†

```python
class BatchProcessor:
    def __init__(self, max_workers=4):
        self.max_workers = max_workers
        self.results = []

    def process_batch(self, image_paths, algorithm, params):
        """æ‰¹é‡å¤„ç†å›¾åƒ"""
        with ThreadPoolExecutor(max_workers=self.max_workers) as executor:
            # æäº¤æ‰€æœ‰ä»»åŠ¡
            futures = []
            for path in image_paths:
                future = executor.submit(self._process_single, path, algorithm, params)
                futures.append((path, future))

            # æ”¶é›†ç»“æœ
            for path, future in futures:
                try:
                    result = future.result(timeout=300)  # 5åˆ†é’Ÿè¶…æ—¶
                    self.results.append({
                        'path': path,
                        'result': result,
                        'status': 'success'
                    })
                except Exception as e:
                    self.results.append({
                        'path': path,
                        'error': str(e),
                        'status': 'failed'
                    })

        return self.results
```

## ğŸ§ª æµ‹è¯•ä¸è´¨é‡ä¿è¯

### æµ‹è¯•å¥—ä»¶

#### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
python tests/test_suite.py

# è¿è¡Œç‰¹å®šæµ‹è¯•
python -m pytest tests/ -v

# è¿è¡Œæœ€ç»ˆé›†æˆæµ‹è¯•
python tests/test_final_integration.py

# ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
python -m pytest --cov=core --cov=gui --cov=utils tests/
```

#### æµ‹è¯•è¦†ç›–èŒƒå›´

1. **å•å…ƒæµ‹è¯•**: æ ¸å¿ƒç®—æ³•å’Œå·¥å…·æ¨¡å—

   - MST åˆ†å‰²ç®—æ³•æµ‹è¯•
   - Watershed ç®—æ³•æµ‹è¯•
   - K-Means å’Œ GMM ç®—æ³•æµ‹è¯•
   - æ•°æ®ç»“æ„æµ‹è¯•
   - å·¥å…·å‡½æ•°æµ‹è¯•

2. **é›†æˆæµ‹è¯•**: ç»„ä»¶äº¤äº’éªŒè¯

   - GUI ä¸ç®—æ³•é›†æˆ
   - é…ç½®ç³»ç»Ÿé›†æˆ
   - æ—¥å¿—ç³»ç»Ÿé›†æˆ
   - æ€§èƒ½ç›‘æ§é›†æˆ

3. **æ€§èƒ½æµ‹è¯•**: å†…å­˜ä½¿ç”¨å’Œæ‰§è¡Œæ—¶é—´

   - å¤§å›¾åƒå¤„ç†æµ‹è¯•
   - å†…å­˜æ³„æ¼æ£€æµ‹
   - å¹¶å‘å¤„ç†æµ‹è¯•

4. **GUI æµ‹è¯•**: ç•Œé¢åŠŸèƒ½éªŒè¯
   - ä¸»é¢˜åˆ‡æ¢æµ‹è¯•
   - æ»šåŠ¨åŠŸèƒ½æµ‹è¯•
   - å¿«æ·é”®æµ‹è¯•
   - é”™è¯¯å¤„ç†æµ‹è¯•

### ä»£ç è´¨é‡æ£€æŸ¥

```python
# ä»£ç é£æ ¼æ£€æŸ¥
flake8 core/ gui/ utils/

# ç±»å‹æ£€æŸ¥
mypy core/ gui/ utils/

# å®‰å…¨æ£€æŸ¥
bandit -r core/ gui/ utils/

# å¤æ‚åº¦æ£€æŸ¥
radon cc core/ gui/ utils/
```

## ğŸ”§ å¼€å‘æµç¨‹

### æ„å»ºç³»ç»Ÿ

#### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å®‰è£…å¼€å‘ä¾èµ–
python scripts/build.py --install-dev

# ä»£ç è´¨é‡æ£€æŸ¥
python scripts/build.py --lint

# è¿è¡Œæµ‹è¯•
python scripts/build.py --test

# å®Œæ•´æ„å»ºæµç¨‹
python scripts/build.py --full
```

#### æ„å»ºè„šæœ¬å®ç°

```python
class BuildSystem:
    def __init__(self):
        self.project_root = Path(__file__).parent.parent

    def install_dev_dependencies(self):
        """å®‰è£…å¼€å‘ä¾èµ–"""
        dev_requirements = [
            'pytest>=6.0.0',
            'pytest-cov>=2.10.0',
            'flake8>=3.8.0',
            'mypy>=0.800',
            'black>=21.0.0',
            'bandit>=1.7.0'
        ]

        for req in dev_requirements:
            subprocess.run(['pip', 'install', req], check=True)

    def run_linting(self):
        """è¿è¡Œä»£ç æ£€æŸ¥"""
        commands = [
            ['flake8', 'core/', 'gui/', 'utils/'],
            ['mypy', 'core/', 'gui/', 'utils/'],
            ['bandit', '-r', 'core/', 'gui/', 'utils/']
        ]

        for cmd in commands:
            result = subprocess.run(cmd, capture_output=True, text=True)
            if result.returncode != 0:
                print(f"æ£€æŸ¥å¤±è´¥: {' '.join(cmd)}")
                print(result.stdout)
                print(result.stderr)
                return False
        return True
```

### é¡¹ç›®é…ç½®

#### åˆ†å±‚é…ç½®ç³»ç»Ÿ

```python
class ConfigManager:
    def __init__(self):
        self.config_hierarchy = [
            'config/default.json',      # é»˜è®¤é…ç½®
            'config/algorithm.json',    # ç®—æ³•é…ç½®
            'config/gui.json',         # ç•Œé¢é…ç½®
            'config/user.json'         # ç”¨æˆ·é…ç½®
        ]

    def load_config(self):
        """åŠ è½½åˆ†å±‚é…ç½®"""
        merged_config = {}

        for config_file in self.config_hierarchy:
            if os.path.exists(config_file):
                with open(config_file, 'r', encoding='utf-8') as f:
                    config = json.load(f)
                    merged_config.update(config)

        return merged_config
```

#### é…ç½®æ–‡ä»¶ç»“æ„

```json
{
  "algorithms": {
    "mst": {
      "default_alpha": 1.0,
      "default_beta": 0.1,
      "default_connectivity": 8
    },
    "watershed": {
      "default_min_distance": 20,
      "default_compactness": 0.001
    }
  },
  "gui": {
    "default_theme": "light",
    "window_size": [1200, 800],
    "auto_save_interval": 300
  },
  "performance": {
    "max_memory_mb": 4096,
    "max_threads": 4,
    "cache_size": 100
  }
}
```

### æ‰©å±•å¼€å‘

#### æ·»åŠ æ–°ç®—æ³•

1. **åˆ›å»ºç®—æ³•ç±»**

```python
# core/new_algorithm.py
class NewSegmentationAlgorithm:
    def __init__(self, param1=1.0, param2=0.5):
        self.param1 = param1
        self.param2 = param2

    def segment(self, image):
        """å®ç°åˆ†å‰²é€»è¾‘"""
        # ç®—æ³•å®ç°
        result = self.process_image(image)
        return result

    def get_parameters(self):
        """è¿”å›å‚æ•°å®šä¹‰"""
        return {
            'param1': {'type': 'float', 'range': [0.1, 10.0], 'default': 1.0},
            'param2': {'type': 'float', 'range': [0.1, 1.0], 'default': 0.5}
        }
```

2. **æ³¨å†Œåˆ° GUI**

```python
# gui/enhanced_main_window.py
def register_algorithms(self):
    """æ³¨å†Œç®—æ³•"""
    self.algorithms = {
        'MST': MSTSegmentation,
        'Watershed': WatershedSegmentation,
        'K-Means': KMeansSegmentation,
        'GMM': GMMSegmentation,
        'New Algorithm': NewSegmentationAlgorithm  # æ–°å¢
    }
```

3. **æ·»åŠ æµ‹è¯•**

```python
# tests/test_new_algorithm.py
class TestNewAlgorithm:
    def test_basic_segmentation(self):
        """æµ‹è¯•åŸºæœ¬åˆ†å‰²åŠŸèƒ½"""
        algorithm = NewSegmentationAlgorithm()
        test_image = np.random.randint(0, 255, (100, 100, 3), dtype=np.uint8)
        result = algorithm.segment(test_image)

        assert result is not None
        assert result.shape == test_image.shape[:2]
```

## ğŸ“ˆ é¡¹ç›®ç»Ÿè®¡

### ä»£ç ç»Ÿè®¡

- **æ€»ä»£ç è¡Œæ•°**: ~20,000 è¡Œ
- **æ ¸å¿ƒæ¨¡å—**: 30+ä¸ªæ¨¡å—
- **æµ‹è¯•è¦†ç›–ç‡**: 85%+
- **æ–‡æ¡£å®Œæ•´æ€§**: 100%
- **ä»£ç è§„èŒƒ**: éµå¾ª Python æœ€ä½³å®è·µ

### åŠŸèƒ½ç»Ÿè®¡

- **åˆ†å‰²ç®—æ³•**: 4 ç§å…ˆè¿›ç®—æ³•
- **GUI ç»„ä»¶**: 10+ä¸ªç•Œé¢ç»„ä»¶
- **å·¥å…·åŠŸèƒ½**: æ‰¹å¤„ç†ã€å¯¹æ¯”ã€åˆ†æç­‰
- **é…ç½®é€‰é¡¹**: 100+ä¸ªé…ç½®å‚æ•°
- **å¿«æ·é”®**: 30+ä¸ªå¿«æ·é”®

### æ€§èƒ½æŒ‡æ ‡

- **å¯åŠ¨æ—¶é—´**: <3 ç§’
- **å“åº”é€Ÿåº¦**: <100ms
- **å†…å­˜æ•ˆç‡**: ä¼˜åŒ– 60%+
- **å¤„ç†é€Ÿåº¦**: æå‡ 40%+
- **ç¨³å®šæ€§**: 99%+

### è´¨é‡æŒ‡æ ‡

- **Bug å¯†åº¦**: <0.1/KLOC
- **ä»£ç å¤æ‚åº¦**: å¹³å‡åœˆå¤æ‚åº¦<10
- **ç»´æŠ¤æ€§æŒ‡æ•°**: >80
- **å¯è¯»æ€§è¯„åˆ†**: >90
- **æµ‹è¯•é€šè¿‡ç‡**: 100%

## ğŸ¯ é¡¹ç›®æˆå°±

### æŠ€æœ¯æˆå°±

1. **ç®—æ³•åˆ›æ–°**: å®ç°äº† 4 ç§å…ˆè¿›çš„å›¾åƒåˆ†å‰²ç®—æ³•
2. **æ¶æ„è®¾è®¡**: é‡‡ç”¨æ¨¡å—åŒ–ã€å¯æ‰©å±•çš„ç³»ç»Ÿæ¶æ„
3. **æ€§èƒ½ä¼˜åŒ–**: å®ç°äº†æ˜¾è‘—çš„æ€§èƒ½æå‡
4. **ç”¨æˆ·ä½“éªŒ**: æä¾›äº†ç°ä»£åŒ–çš„ç”¨æˆ·ç•Œé¢

### å·¥ç¨‹æˆå°±

1. **ä»£ç è´¨é‡**: è¾¾åˆ°ä¼ä¸šçº§ä»£ç æ ‡å‡†
2. **æµ‹è¯•è¦†ç›–**: å®ç°äº†é«˜è¦†ç›–ç‡çš„è‡ªåŠ¨åŒ–æµ‹è¯•
3. **æ–‡æ¡£å®Œå–„**: æä¾›äº†å…¨é¢çš„æŠ€æœ¯æ–‡æ¡£
4. **éƒ¨ç½²å°±ç»ª**: å…·å¤‡å®Œæ•´çš„éƒ¨ç½²å’Œåˆ†å‘èƒ½åŠ›

### åˆ›æ–°ç‰¹æ€§

1. **å¢å¼ºæ»šåŠ¨**: ä¸šç•Œé¢†å…ˆçš„æ»šåŠ¨äº¤äº’ä½“éªŒ
2. **ä¸»é¢˜ç³»ç»Ÿ**: ç¾è§‚çš„å¤šä¸»é¢˜æ”¯æŒ
3. **æ€§èƒ½ç›‘æ§**: å®æ—¶çš„ç³»ç»Ÿæ€§èƒ½ç›‘æ§
4. **æ‰¹å¤„ç†**: é«˜æ•ˆçš„å¹¶è¡Œæ‰¹é‡å¤„ç†

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘è§„èŒƒ

1. **ä»£ç é£æ ¼**: éµå¾ª PEP 8 è§„èŒƒ
2. **æäº¤ä¿¡æ¯**: ä½¿ç”¨æ¸…æ™°çš„æäº¤ä¿¡æ¯
3. **åˆ†æ”¯ç®¡ç†**: ä½¿ç”¨ Git Flow å·¥ä½œæµ
4. **æµ‹è¯•è¦æ±‚**: æ–°åŠŸèƒ½å¿…é¡»åŒ…å«æµ‹è¯•

### è´¡çŒ®æµç¨‹

1. Fork é¡¹ç›®ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ™ è‡´è°¢

- æ„Ÿè°¢æ‰€æœ‰ä¸ºé¡¹ç›®æ”¹è¿›åšå‡ºè´¡çŒ®çš„å¼€å‘è€…
- æ„Ÿè°¢å¼€æºç¤¾åŒºæä¾›çš„ä¼˜ç§€å›¾åƒå¤„ç†åº“
- æ„Ÿè°¢è®¡ç®—æœºè§†è§‰ç¤¾åŒºçš„æ”¯æŒå’Œåé¦ˆ

## ğŸ“ æ”¯æŒä¸è”ç³»

å¦‚æœæ‚¨é‡åˆ°ä»»ä½•é—®é¢˜æˆ–æœ‰ç–‘é—®:

- æŸ¥çœ‹å®Œæ•´ç”¨æˆ·æ‰‹å†Œ
- æœç´¢ç°æœ‰é—®é¢˜
- åˆ›å»ºæ–°çš„é—®é¢˜æŠ¥å‘Š
- è”ç³»æˆ‘ä»¬: support@example.com

---

**ç‰ˆæœ¬**: v2.0.0
**æœ€åæ›´æ–°**: 2025 å¹´ 6 æœˆ
**çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª
**å®Œæˆåº¦**: 100%

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªæ˜Ÿæ ‡ï¼

ğŸŠ **æ­å–œï¼å›¾åƒåˆ†å‰²ç³»ç»Ÿé¡¹ç›®åœ†æ»¡å®Œæˆï¼** ğŸŠ
